当然，以下是优化排版、结构清晰、美观简洁的 `DEPLOYMENT.md` 部署说明内容，适合发布到 GitHub 或分享他人阅读：

---

# 🚀 Cloudflare Workers TCP 中继部署指南

本项目基于 **Cloudflare Workers** 实现 **TCP over WebSocket** 中继，适用于构建高性能、可部署在边缘节点的代理通道。

> 📦 本项目由「天书狂暴版」优化修改而来，无需配置额外的 Cloudflare 环境变量，开箱即用。

---

## ✅ 部署前准备

| 项目            | 说明                                             |
| ------------- | ---------------------------------------------- |
| Cloudflare 账号 | 注册并登录 [cloudflare.com](https://cloudflare.com) |
| 自有域名          | 已绑定至 Cloudflare（或使用 Workers.dev 测试域）           |

---

## ⚙️ 快速部署步骤

1. **Fork本项目**
2. **Pages部署**

---

## 🌐 服务接口说明

### 📥 订阅地址

用于获取客户端订阅链接：

```
https://你的域名/${ID}
```

示例：

```
https://example.pages.dev/242222
```


# 变更日志（Changelog）

## v1.5.0 - 2025-07-10

### ✨ 性能优化（主线优化第二阶段）

* ✅ **异步流传输替代完整 Buffer：**

  * `initialData` 使用 `ReadableStream` 管道传输到 TCP，节省内存并提高响应速度。
* ✅ **Base64 编解码异步化：**

  * 解码流程推迟到必要时才触发，减少对主线程阻塞。
* ✅ **WebSocket 消息合并写入：**

  * 使用 `messageQueue` + `flushQueue()` 合并写入，降低 I/O 压力。
* ✅ **失败路径快速失败处理：**

  * 引入 `failCache`，连接失败地址在 30 秒内将直接拒绝再次尝试。
* ✅ **按需解析 IPv6（NAT64）：**

  * 若启用 NAT64，仅在原始连接失败后解析 IPv6，再尝试连接。

---

## v1.4.0 - 2025-07-09

### 🔧 初步性能与容错增强

* 新增 `blockUUID` 与 `uuidFailCache`：UUID 验证失败后 60 秒内拉黑，防止滥用。
* 支持 NAT64 IPv6 地址转换：提供备用连接路径。
* `connect()` 异常处理加强，失败回退机制更鲁棒。
* 启用反代功能配置项：通过 `PROXYIP` 实现中转连接。

---

## v1.3.0 - 2025-07-06

### ✨ 配置功能增强

* 环境变量读取函数 `读取环境变量` 引入智能类型推断（支持布尔、数值、数组等）。
* 动态订阅页路径 `/[ID]` 和通用配置路径 `/[ID]/vl/ess` 自动生成。

---

## v1.0.0 - 2025-07-01

### 🎉 初始版本发布

* 基于 Cloudflare Worker 实现 TCP over WebSocket 中继代理。
* 支持任意目标地址连接。
* 验证用户 UUID 安全连接。
* 动态生成配置页面与订阅地址。
